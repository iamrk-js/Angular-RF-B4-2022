<div class="container">
  <div class="row">
    <div class="col-sm-10 offset-sm-1">
      <form [formGroup]="signUpForm" (ngSubmit)="onSignUp()">
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="username">Username*</label>
              <input type="text" minlength="5" [formControlName]="'username'" id="" class="form-control">

              <p *ngIf="f['username'].invalid && userNameControl?.touched">
                <span *ngIf="userNameControl?.errors?.['required'] ">
                  Username is required.
                </span>
                <span *ngIf="f['username'].errors?.['minlength'] ">
                  Minimum Length should be {{userNameControl?.errors?.['minlength']?.requiredLength}}
                </span>
                <span *ngIf="f['username'].errors?.['']">

                </span>
              </p>

            </div>
          </div>

          <div class="col-md-3">
            <div class="form-group">
              <label for="email">email*</label>
              <input type="text" formControlName="email" id="" class="form-control">
              <!-- <span *ngIf="emailControl.touched && emailControl?.invalid">This is required field</span> -->
              <span *ngIf=" f['email'].touched && f['email'].invalid">This is required field</span>
            </div>
          </div>
          <div class="col-md-3">
            <div class="form-group">
              <label for="employeeId">Employee Id</label>
              <input type="text" name="" formControlName="employeeId" id="employeeId" class="form-control">
              <ng-container *ngIf="f['employeeId'].invalid && f['employeeId'].touched">
                <span *ngIf="f['employeeId'].hasError('required')">
                  EmployeeId is Required field
                </span>
             
              </ng-container>
              <ng-container *ngIf="f['employeeId'].dirty && f['employeeId'].invalid">
                <span *ngIf="f['employeeId'].hasError('minlength')">
                  Minimun length should be 4
                </span>
                <span *ngIf="f['employeeId'].hasError('maxlength')">
                  maxlength length should be 4
                </span>
                <span *ngIf="f['employeeId'].hasError('invalidid')">
                  1 string 3 number
                 </span>
              </ng-container>
              
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group">
              <ng-container *ngFor="let genderName of gendersArray">
                <label [for]="genderName" class="mr-3">
                  <input type="radio" [id]="genderName" [value]="genderName" formControlName="gender"> {{genderName}}
                </label>
              </ng-container>
            </div>
          </div>
        </div>
        <div class="row mb-3" formGroupName="address">
          <div class="col-md-6">
            <div class="row">
              <div class="col-sm-12">
                <p class="m-0 mb-2 font-weight-bold">
                  Address
                </p>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="country">Country* </label>
                  <!-- <input type="text" formControlName="country" id="country" class="form-control"> -->
                  <select name="" id="country" formControlName="country" class="form-control">
                    <option value="">Select Country Name</option>
                    <option [value]="country" *ngFor="let country of countryNames">
                      {{country}}
                    </option>
                  </select>
                  <span *ngIf="countryControl.touched && countryControl.invalid">
                    Country is required field.
                  </span>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="state">State</label>
                  <input type="text" formControlName="state" id="state" class="form-control">
                  <span *ngIf="stateControl.touched && stateControl.invalid">
                    State is required field.
                  </span>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="city">City</label>
                  <input type="text" formControlName="city" id="city" class="form-control">
                  <span *ngIf="cityControl.touched && cityControl.invalid">
                    City is required field.
                  </span>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <label for="zipcode">zipcode</label>
                  <input type="text" formControlName="zipcode" id="zipcode" class="form-control">
                  <span *ngIf="zipcodeControl.touched && zipcodeControl.invalid">
                    Zipcode is required field.
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div formArrayName="skills">
          <div class="row" *ngFor="let skill of skillsArray?.controls; let i = index">
            <div class="col-sm-10">
              <div class="form-group">
                <input type="text" name="" [formControlName]="i" class="form-control">
              </div>
            </div>
            <div class="col-sm-2 " *ngIf="i > 0">
              <a href="javascript:;" (click)="onSkillRemove(i)">
                <i class="fa-solid fa-trash fa-2x"></i>
              </a>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <button class="btn btn-success mb-4" [disabled]="skillsArray.length >= 5" (click)="onSkillAdd()">Add
                Skills</button>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-6">
            <div class="form-group">
              <label for="password">Password</label>
              <input type="text" name="password" formControlName="password" id="password" class="form-control">
              <ng-container *ngIf="f['password'].invalid && f['password'].touched">
                <span *ngIf="f['password'].hasError('required')">Password is mandetory filed</span>
                <span *ngIf="f['password'].hasError('minlength')">Password minlength should be 8</span>
              </ng-container>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label for="confirmPassword">confirm Password</label>
              <input type="text" name="confirmPassword" formControlName="confirmPassword" id="confirmPassword"
                class="form-control">
              <ng-container *ngIf="f['confirmPassword'].touched && 
              f['confirmPassword'].value !== f['password'].value">
                <span>
                  Password and Confirm password both should be same
                </span>
              </ng-container>
              <ng-container *ngIf="f['confirmPassword'].invalid && f['confirmPassword'].dirty">
                <span *ngIf="f['confirmPassword'].hasError('required')">Confirm Password is mandetory filed</span>
                <span *ngIf="f['confirmPassword'].hasError('minlength')">Confirm Password minlength should be 8</span>
              </ng-container>
            </div>
          </div>

        </div>
        <div class="form-group">
          <button class="btn btn-primary"
             type="submit">
            Sign Up
          </button>
        </div>
      </form>
      <h4>
        {{signUpForm.value | json}}
      </h4>
    </div>
  </div>
</div>